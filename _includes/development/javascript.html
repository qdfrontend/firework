<div id="development_javascript">
<h1>一、基本规范</h1>
<h2>换行：</h2>
<p>换行遵循以下规则
1、在逗号后换行。
2、在操作符前换行。</p>
<h2>缩进：</h2>
<p>缩进使用一个Tab，另外不要在代码中使用Tab字符。</p>
<h2>空行：</h2>
<p>空行是为了将逻辑上相关联的代码分块，以便提高代码的可阅读性。</p>
<h3>在以下情况下使用两个空行</h3>
<p>1、	类与类的定义之间。        </p>
<h3>在以下情况下使用一个空行</h3>
<p>1、方法与方法、属性与属性之间。
2、方法中不同的逻辑块之间。
3、注释与它注释的语句间不空行，但与其他的语句间空一行。
空格：</p>
<h3>在以下情况中要使用到空格</h3>
<p>1、关键字和左括符 “(” 应该用空格隔开。如</p>
<p>注意在方法名和左括符 “(” 之间不要使用空格，这样有助于辨认代码中的方法调用与关键字。</p>
<p>2、	多个参数用逗号隔开，每个逗号后都应加一个空格。</p>
<p>3、 语句中的表达式之间用空格隔开。如</p>
<h4>括号-()：</h4>
<p>1、	左括号“(” 不要紧靠关键字，中间用一个空格隔开。</p>
<p>2、	左括号“(”  与方法名之间不要添加任何空格。</p>
<p>3、	没有必要的话不要在返回语句中使用()。如</p>
<h4>花括号-{}：</h4>
<p>1、	左花括号 “{” 应空一格放于关键字或方法名后，不要放于关键字或方法名的下一行，如</p>
<p>2、	if、while、do语句后一定要使用{}，即使{}号中为空或只有一条语句。如</p>
<h1>二、命名规范</h1>
<h2>命名概述：</h2>
<p>命名原则是提供人们可以理解的名称。请确保选择的名称符合适用语言的规则和标准。名称应该说明“什么”而不是“如何”。例如，可以使用 getLastDay ()，而不是 getLastArray ()。</p>
<h3>以下几点是推荐的命名方法</h3>
<p>1、 避免容易被主观解释的难懂的名称。</p>
<p>2、 在类属性的名称中包含类名是多余的，如 Book.bookTitle。而是应该使用 Book.title。</p>
<p>3、 只要合适，在变量名的末尾或开头加计算限定符（Avg、Sum、Min、Max、Index）。</p>
<p>4、 在变量名中使用互补对，如 min/max、begin/end 和 open/close。 </p>
<p>5、 布尔变量名应该包含 Is，这意味着 Yes/No 或 True/False 值，如 fileIsFound。</p>
<h2>缩写：</h2>
<p>为了避免混淆和保证跨语言交互操作，请遵循有关区缩写的使用的下列规则： 
1、 不要将缩写或缩略形式用作标识符名称的组成部分。例如，使用 getWindow，而不要使用 getWin。 </p>
<p>2、 不要使用计算机领域中未被普遍接受的缩写。 </p>
<p>3、 在适当的时候，使用众所周知的缩写替换冗长的词组名称。例如，用 UI 作为 User Interface 缩写，用 OLAP 作为 On-line Analytical Processing 的缩写。 </p>
<p>4、 在使用缩写时，对于超过两个字符长度的缩写请使用 Pascal 大小写（将标识符的首字母和后面连接的每个单词的首字母都大写）或 Camel 大小写（标识符的首字母小写，而每个后面连接的单词的首字母都大写）。例如，使用 HtmlButton 或 HTMLButton。但是，应当大写仅有两个字符的缩写，如，System.IO，而不是 System.Io。</p>
<p>5、 不要在标识符或参数名称中使用缩写。如果必须使用缩写，对于由多于两个字符所组成的缩写请使用Camel 大小写，虽然这和单词的标准缩写相冲突。</p>
<h3>类：</h3>
<p>1、 使用 Pascal 大小写。</p>
<p>2、 用名词或名词短语命名类。</p>
<p>3、 使用全称避免缩写，除非缩写已是一种公认的约定，如URL、HTML    </p>
<p>4、 不要使用类型前缀，如在类名称上对类使用 C 前缀。例如，使用类名称 FileStream，而不是 CFileStream。 </p>
<p>5、 不要使用下划线字符 (_)。 </p>
<h3>属性：</h3>
<p>1、 使用Camel 大小写。</p>
<p>2、 用名词或名词短语命名类。</p>
<p>3、 内部受保护的属性使用下划线开头（_）。</p>
<p>如：_cursor表示是受保护的属性，外界不应该使用。 </p>
<h3>参数：</h3>
<p>参数的命名遵循以下规则</p>
<p>1、使用描述性参数名称。参数名称应当具有足够的描述性，以便参数的名称及其类可用于在大多数情况下确定它的含义。 </p>
<p>2、对参数名称使用 Camel 大小写。 </p>
<h3>方法：</h3>
<p>以下规则概述方法的命名指南： </p>
<p>1、 使用动词或动词短语命名方法。 </p>
<p>2、 使用Camel大小写。 </p>
<p>3、 约定：类内部受保护的方法使用下划线开头（_）.</p>
<p>如：setValue(value),_createInput()</p>
<h3>事件：</h3>
<p>以下规则概述事件的命名指南： </p>
<p>1、 对事件处理程序名称使用on开头。 </p>
<p>2、 事件处理程序都提供两个参数sender，args。</p>
<p>3、 使用Before,After表示事件发生的时间顺序，如onBeforeSave,onAfterSave。 </p>
<p>4、 一些事件可以用时态表示顺序，如onChange,onChanged</p>
<p>5、 使用Camel大小写。</p>
<p>如： me.onBeforeSave = new Event();</p>
<h3>变量：</h3>
<p>1、	使用Camel大小写。</p>
<p>2、	用名词或名词短语命名类。</p>
<p>3、	类内部或函数内部使用的变量使用下划线开头（_）.</p>
<h3>常量：</h3>
<p>所有单词大写，多个单词之间用 &quot;_&quot; 隔开。 如   </p>
<h1>三、声明规范</h1>
<p>位置：
变量应避免不同层次间的变量重名，建议置于块的开始处，不要总是在第一次使用它们的地方做声明。建议使用单var声明，按照首字母排序。如</p>
<p>注意：
	变量声明不要丢掉“var”。
	变量不能使用关键字和保留字。
标识符首字母只能是字母，$，_开头。
数组声明：
使用 [ ] 声明，而不是 new  Array() 声明	 </p>
<h1>四、语句规范</h1>
<p>每行一个语句：
每行最多包含一个语句。如</p>
<p>复合语句：
复合语句是指包含&quot;父语句{子语句;子语句;}&quot;的语句，使用复合语句应遵循以下几点
1、 子语句要缩进。
2、 即使只有一条子语句要不要省略花括号“{}”。 如</p>
<p>return 语句：
return语句中不使用括号，除非它能使返回值更加清晰。如</p>
<p>if、if-else、if-else if 语句：</p>
<p>for语句：
for 语句使用格式</p>
<p>注意 1、在循环过程中不要修改循环计数器。
2、对每个空循环体给出确认性注释。
while 语句：
while 语句使用格式</p>
<p>空的 while 语句使用格式</p>
<p>switch - case 语句：</p>
<p>注意：
1、语句switch中的每个case各占一行。
2、语句switch中的case按字母顺序排列。
3、为所有switch语句提供default分支。 
4、所有的非空 case 语句必须用 break; 语句结束。
try - catch 语句：</p>
<h1>五、目录结构</h1>
<p>通用目录结构：</p>
<p>此结构为通用目录结构，可根据项目具体情况进行增减。</p>
<h1>六、常用性能技巧</h1>
<h3>循环：</h3>
<p>关于JS的循环，循环是一种常用的流程控制。JS提供了三种循环：for(;;)、while()、for(in)。在这三种循环中 for(in)的效率最差，因为它需要查询Hash键，因此应尽量少用for(in)循环，for(;;)、while()循环的性能基本持平。当然，推荐使用for循环，如果循环变量递增或递减，不要单独对循环变量赋值，而应该使用嵌套的++或--运算符。
如果需要遍历数组，应该先缓存数组长度var len=arr.length; for(i=0;i&lt;len;i++)，将数组长度放入局部变量中，避免多次查询数组长度。</p>
<h3>选用局部变量而不是全局变量：</h3>
<p>局部变量的访问速度要比全局变量的访问速度更快，因为全局变量其实是window对象的成员，而局部变量是放在函数的栈里的。</p>
<h3>减少对象查找：</h3>
<p>尽量避免对象的嵌套查询，对于obj1.obj2.obj3.obj4这个语句，需要进行至少3次查询操作，先检查obj1中是否包含 obj2，再检查obj2中是否包含obj3，然后检查obj3中是否包含obj4...这不是一个好策略。应该尽量利用局部变量，将obj4以局部变量 保存，从而避免嵌套查询。
另外使用[“”]查询要比.items()更快。</p>
<h3>代码简洁：</h3>
<p>一些简略的表达方式也会产生很好性能优化。eg：x=x+1; 在不影响功能的情况下可以简写为x++。
使运算符时，尽量使用 +=、－=、*=、\= 等运算符号，而不是直接进行赋值运算。</p>
<h3>避免使用eval：</h3>
<p>尽量少使用eval，每次使用eval需要消耗大量时间，特别是在循环内，json[i][变量]=1;这样的语句可以不使用eval。</p>
<h3>字符串连接：</h3>
<p>如果是追加字符串，最好使用s+=anotherStr操作，而不是要使用s=s+anotherStr。 
如果要连接多个字符串，应该少使用+=，如s+=a;s+=b;s+=c;应该写成s+=a + b + c； 
而如果是收集字符串，比如多次对同一个字符串进行+=操作的话，最好使用一个缓存。使用JavaScript数组来收集，最后使用join方法连接起来。</p>
<h3>类型转换：</h3>
<p>1、 把数字转换成字符串，应用&quot;&quot; + 1，虽然看起来比较丑一点，但事实上这个效率是最高的，性能上来说：(&quot;&quot; +) &gt; String() &gt; .toString() &gt; new String()</p>
<p>尽量使用编译时就能使用的内部操作要比运行时使用的用户操作要快。 
String()属于内部函数，所以速度很快，而.toString()要查询原型中的函数，所以速度逊色一些，new String()用于返回一个精确的副本。 </p>
<p>2、 浮点数转换成整型，这个更容易出错，很多人喜欢使用parseInt()，其实parseInt()是用于将字符串转换成数字，而不是浮点数和整型之间的转换，我们应该使用Math.floor()或者Math.round()。Math是内部对象，所以Math.floor()其实并没有多少查询方法和调用的时间，速度是最快的。 </p>
<p>3、 对于自定义的对象，如果定义了toString()方法来进行类型转换的话，推荐显式调用toString()，因为内部的操作在尝试所有可能性之后，会尝试对象的toString()方法尝试能否转化为String，所以直接调用这个方法效率会更高。</p>
<h3>使用JSON格式创建对象：</h3>
<p>尽量作用JSON格式来创建对象，而不是var obj=new Object()方法。 因为前者是直接复制，而后者需要调用构造器，因而前者的性能更好</p>
<p>当需要使用数组时，也尽量使用JSON格式的语法，使用JSON格式的语法即直接使用如下语法定义数组：[parrm,param,param...],而不是采用new Array(parrm,param,param...)这种语法。因为使用JSON格式的语法是引擎直接解释的。而后者则需要调用Array的构造器。</p>
<h3>正则表达式：</h3>
<p>对字符串进行循环操作，例如替换、查找，就使用正则表达式。因为JS的循环速度比较慢，而正则表达式的操作是用C写成的API，性能比较好。</p>
<h3>减少DOM操作：</h3>
<p>在Web开发中，JavaScript的一个很重要的作用就是对DOM进行操作。可是对DOM的操作是非常昂贵的，因为这会导致浏览器执行回流 （reflow）操作。我们应该尽可能的减少DOM操作。</p>
<h3>应用缓存：</h3>
<p>对于大的JS对象，因为创建时时间和空间的开销都比较大，因此应该尽量考虑采用缓存。</p>
<h1>七、原型和原型链</h1>
<p>JavaScript 不包含传统的类继承模型，而是使用 prototypal 原型模型。
原型使用方式：</p>
<p>1、	通过给对象的prototype属性赋值对象字面量来设定对象的原型</p>
<p>2、 在赋值原型prototype的时候使用function立即执行的表达式来赋值，它可以封装私有的function，通过return的形式暴露出简单的使用名称，以达到public/private的效果。</p>
<p>3、	分来设置原型的每个属性</p>
<p>还有一点我们需要注意的是，我们可以赋值任何类型的对象到原型上，但是不能赋值原子类型的值，比如如下代码是无效的：</p>
<h2>重写原型：</h2>
<p>在使用第三方JS类库的时候，往往有时候他们定义的原型方法是不能满足我们的需要，但是又离不开这个类库，所以这时候我们就需要重写他们的原型中的一个或者多个属性或function，但是有一点需要注意：那就是重写的代码需要放在最后，这样才能覆盖前面的代码。</p>
<h3>原型链：</h3>
<p>属性查找：</p>
<p>当查找一个对象的属性时，属性在查找的时候是先查找自身的属性，如果没有再查找原型，再没有，JavaScript 会向上遍历原型链，直到找到给定名称的属性为止，到查找到达原型链的顶部也就是 Object.prototype， 但是仍然没有找到指定的属性，就会返回 undefined。所以在某种层面上说，用 for in语句遍历属性的时候，效率也是个问题。</p>
<h3>hasOwnProperty函数：</h3>
<p>hasOwnProperty是Object.prototype的一个方法，它可是个好东西，他能判断一个对象是否包含自定义属性而不是原型链上的属性，因为hasOwnProperty 是 JavaScript 中唯一一个处理属性但是不查找原型链的函数。这在遍历对象的属性时会很有用。 没有其它方法可以用来排除原型链上的属性，而不是定义在对象自身上的属性。</p>
<p>当检查对象上某个属性是否存在时，hasOwnProperty 是唯一可用的方法。同时在使用 for in loop 遍历对象时，推荐总是使用 hasOwnProperty 方法，这将会避免原型对象扩展带来的干扰。</p>
<p>我们没办法改变for in语句的行为，所以想过滤结果就只能使用hasOwnProperty 方法。 </p>
<p>总结：推荐使用 hasOwnProperty，不要对代码运行的环境做任何假设，不要假设原生对象是否已经被扩展了。</p>
<h1>八、闭包</h1>
<p>闭包是代码块和创建该代码块的上下文中数据的结合。</p>
<h3>理论闭包与实践闭包：</h3>
<p>这里说明一下，开发人员经常错误将闭包简化理解成从父上下文中返回内部函数，甚至理解成只有匿名函数才能是闭包。甚至大量介绍JavaScript的文章都认为只有额外创建的函数才是闭包，这种说法是错误的。实践得出，这种方式是最有效的，然而，因为作用域链，使得所有的函数都是闭包。
这里只有一类函数除外，那就是通过Function构造器创建的函数，因为其[[Scope]]只包含全局对象。</p>
<h2>ECMAScript中，闭包指的是：</h2>
<p>1、 从理论角度：所有的函数。因为它们都在创建的时候就将上层上下文的数据保存起来了。哪怕是简单的全局变量也是如此，因为函数中访问全局变量就相当于是在访问自由变量，这个时候使用最外层的作用域。</p>
<p>2、 从实践角度以下函数才算是闭包：
① 即使创建它的上下文已经销毁，它仍然存在（比如，内部函数从父函数中返回）
② 在代码中引用了自由变量</p>
<h3>闭包用法：</h3>
<p>1、 延迟调用</p>
<p>2、 回调函数</p>
<p>3、 创建封装的作用域来隐藏辅助对象</p>
<h1>九、面向对象设计</h1>
<p>ECMAScript是一种面向对象语言，支持基于原型的委托式继承。
理解对象:</p>
<p>1、 基于Object对象</p>
<p>2、 对象字面量方式（比较清楚的查找对象包含的属性及方法）</p>
<p>JS的对象可以使用‘.’操作符动态的扩展其属性，可以使用’delete’操作符或将属性值设置为’undefined’来删除属性。如下：</p>
<h3>对象属性类型：</h3>
<p>ECMA-262第5版定义了JS对象属性中特征（用于JS引擎，外部无法直接访问）。ECMAScript中有两种属性：数据属性和访问器属性</p>
<p>1、 数据属性：
数据属性指包含一个数据值的位置，可在该位置读取或写入值，该属性有4个供述其行为的特性：
[[configurable]]:表示能否使用delete操作符删除从而重新定义，或能否修改为访问器属性。默认为true;</p>
<p>[[Enumberable]]:表示是否可通过for-in循环返回属性。默认true;</p>
<p>[[Writable]]:表示是否可修改属性的值。默认true;</p>
<p>[[Value]]:包含该属性的数据值。读取/写入都是该值。默认为undefined;如上面实例对象person中定义了name属性，其值为’My name’,对该值的修改都反正在这个位置</p>
<p>要修改对象属性的默认特征（默认都为true)，可调用Object.defineProperty()方法，它接收三个参数：属性所在对象，属性名和一个描述符对象（必须是：configurable、enumberable、writable和value，可设置一个或多个值）。</p>
<p>如下：（浏览器支持：IE9+、Firefox 4+、Chrome、Safari5+）</p>
<p>可以看出，delete及重置person.name的值都没有生效，这就是因为调用defineProperty函数修改了对象属性的特征；值得注意的是一旦将configurable设置为false，则无法再使用defineProperty将其修改为true（执行会报错：can't redefine non-configurable property）;</p>
<p>2、 访问器属性：
它主要包括一对getter和setter函数，在读取访问器属性时，会调用getter返回有效值；写入访问器属性时，调用setter，写入新值；该属性有以下4个特征：
[[Configurable]]:是否可通过delete操作符删除重新定义属性；
[[Numberable]]:是否可通过for-in循环查找该属性；
[[Get]]:读取属性时调用，默认：undefined;
[[Set]]:写入属性时调用，默认：undefined;
访问器属性不能直接定义，必须使用defineProperty()来定义，如下：</p>
<p>从上面可知，定义访问器属性时getter与setter函数不是必须的,并且，在定义getter与setter时不能指定属性的configurable及writable特性。</p>
<p>此外，ECMA-262（5）还提供了一个Object.defineProperties()方法，可以用来一次性定义多个属性的特性：</p>
<p>上述代码使用Object.defineProperties()方法同时定义了_age及isAudlt两个属性的特性。
设计模式：
使用设计模式在面向对象的设计中会给你很大帮助。
如单例模式
Javascript的单例模式有很多实现方式下面是推荐的一种</p>
<h3>代码可配置：</h3>
<p>你写的代码如果想让别人更容易进行使用或者修改，则需要可配置，解决方案是在你写的脚本中增加一个配置对象。要点如下：</p>
<p>1、 在你的脚本中新增一个叫config的对象。</p>
<p>2、 在配置对象中存放所有其它人可能想要去改变的东西，例如CSS的ID、class名称、语言等等。</p>
<p>3、 返回这个对象，作为公共属性以便其它人可以进行重写。</p>
</div>